{% extends 'admin_base.html.twig' %}

{% block title %}Frais -
	{{ titleMenu  }}
{% endblock %}

{% block body %}
	{# Modele #}
	<!-- Button to Open the Modal -->

	<!-- The Modal -->
		<div class="modal fade modal" id="myModal"> <div class="modal-dialog">
			<div
				class="modal-content">
				<!-- Modal Header -->
				<div class="modal-header">
					<h4 class="modal-title">Modal Heading</h4>
					<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				</div>

				<!-- Modal body -->
				<div class="modal-body">
					Modal body..
				</div>

				<!-- Modal footer -->
				<div class="modal-footer">
					<button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
				</div>

			</div>
		</div>
	</div>
	{# Modele #}



	{{ form_start( form_niveau )}}
	{{ form_row( form_niveau.nom ) }}
	{{ form_row( form_niveau.frais ) }}

	<div id="__classe_add_container" class='{{ ( form_niveau.nbr_classe.vars.value == '')? 'd-none' : '' }}'>
		{{ form_row( form_niveau.nbr_classe ) }}
		<div class="text-primary">
			<label for="" class='form-label'>Nominalisation des classes en alphabet( Classe A , B , ... ) ou en chiffre ( Classe 1 , 2 , ... )
			</label>
		</div>
		<div class='d-flex gap-5'>
			{% for child in form_niveau.type %}
				<div class="">
					{{ form_widget(child) }}
					{{ form_label(child) }}
				</div>
			{% endfor %}
		</div>
	</div>

	<div class="boutton__">

		{% if form_niveau.nbr_classe.vars.value == '' %}
			<button type='button' class='btn btn-secondary' id='__add_classe'>
				<i class='fa-solid fa-plus'></i>
				Ajout Classe
			</button>
		{% endif %}

		<button class='btn btn-info ' type='submit'>
			{% if id is defined %}
				<i class="fa-solid fa-pen-to-square"></i>
				Modifier
			{% else %}
				<i class="fa-solid fa-check"></i>
				Valider
			{% endif %}
		</button>
	</div>
	{{ form_end( form_niveau )}}


	<div class="table-container mt-3">
		<table class="table table-md">
			<thead class='table-dark'>

				<tr>
					<th>Nom</th>
					<th>Date</th>
					<th>Action</th>
				</tr>
			</thead>
			<tbody>
				{% for data in datas %}
					<tr>
						<td>{{ data.nom|capitalize  }}</td>
						<td>
							{{ data.createdAt|date('d-m-Y') }}
						</td>
						<td>
							{# <a href="{{ path('parametre_niveau_edit' , { id:data.id }) }}" class="btn btn-sm btn-outline-primary"> #}
							<a href="#" class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#myModal">
								<i class="fa-solid fa-pen-to-square"></i>
							</a>
							<form action="{{ path('parametre_niveau_delete' , { id:data.id } ) }}" class="__delete_form">
								<input type="hidden" name='id' value='{{ data.id }}'>
								<button type="button" onclick='__delete( this , {{ data.id }} )' class="btn btn-sm btn-outline-danger">
									<i class="fa-solid fa-trash"></i>
								</button>
							</form>
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
		<div class="navigation ">
			{{ knp_pagination_render(datas) }}
		</div>
	</div>
{% endblock %}
